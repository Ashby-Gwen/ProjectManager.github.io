<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project Manager Dashboard</title>
    
    <style>
        /* GLOBAL RESET & BASE STYLES */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f9; /* Light background */
            color: #333;
            line-height: 1.6;
        }
        
        /* HEADER & NAVIGATION */
        header {
            background-color: #008CBA; /* Theme Blue */
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .navbar {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.8em;
            font-weight: bold;
        }

        .nav-links {
            list-style: none;
            display: flex;
            margin: 0;
            padding: 0;
        }

        .nav-links li a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            font-weight: 500;
            transition: background-color 0.3s, color 0.3s;
            border-radius: 4px;
        }

        .nav-links li a:hover {
            background-color: #007bb5; /* Darker Blue on hover */
        }
        
        /* MAIN CONTENT & SECTIONS */
        main {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
        }
        
        .section {
            background: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .section h1 {
            color: #008CBA; /* Theme Blue */
            border-bottom: 2px solid #4CAF50; /* Theme Green highlight */
            padding-bottom: 10px;
            margin-top: 0;
            margin-bottom: 25px;
        }

        /* FEATURE LIST STYLES */
        .feature-list {
            list-style: none;
            padding: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .feature-list li {
            padding: 12px;
            background-color: #f0fff0; /* Light green background */
            border-left: 5px solid #4CAF50; /* Theme Green */
            border-radius: 4px;
            font-weight: 600;
            transition: transform 0.2s;
        }
        .feature-list li:hover {
            transform: translateY(-2px);
            background-color: #e6ffe6;
        }

        /* UPCOMING TASK NOTIFICATION CARD */
        .notification-card {
            background: linear-gradient(135deg, #4CAF50, #5cb85c); /* Green gradient */
            color: white;
            padding: 20px 30px;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 1.1em;
            font-weight: bold;
            animation: pulse 2s infinite; /* Subtle animation for attention */
        }
        
        .notification-card span {
            display: block;
        }
        
        .notification-card .task-detail {
            font-size: 1.3em;
            font-weight: 900;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }

        /* TEAM CONTAINER & CARDS */
        .team-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: space-around;
        }
        
        .team-card {
            background-color: #ffffff;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            flex: 1 1 200px; /* Allows cards to be flexible and wrap */
            max-width: 220px;
            transition: box-shadow 0.3s;
        }
        .team-card:hover {
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }

        .team-card img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid #008CBA;
        }

        .team-card h2 {
            margin: 5px 0;
            font-size: 1.2em;
            color: #333;
        }

        .team-card p {
            margin: 0;
            color: #555;
            font-size: 0.9em;
        }

        /* FOOTER */
        footer {
            text-align: center;
            padding: 20px;
            background-color: #333;
            color: #ccc;
            margin-top: 30px;
        }
    </style>
</head>

<body>

    <header>
        <nav class="navbar" role="navigation" aria-label="Main Navigation">
            <div class="logo">Project Manager</div>
            <ul class="nav-links">
                <li><a href="#dashboard">Dashboard</a></li>
                <li><a href="tasks.html">Tasks</a></li>
                <li><a href="#teams">Teams</a></li>
                <li><a href="#about">About</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="section" id="dashboard">
            <h1>System Features üí°</h1>
            <ul class="feature-list" role="list">
                <li>‚úî **Project Dashboard Overview**: High-level summary of project status.</li>
                <li>‚úî **Checklist Function**: Interactive task list for progress tracking.</li>
                <li>‚úî **Upcoming Deadline Notifications**: Sorts tasks to show urgency.</li>
                <li>‚úî **Static Data Storage**: Uses LocalStorage/CSV (No Database Required).</li>
                <li>‚úî **Simple Task Updates**: Editing functions available for authorized users.</li>
                <li>‚úî **Task Completion Visuals**: Automatic crossout and gray text for finished items.</li>
            </ul>
        </section>
        
        <section id="upcoming-tasks-section">
            <div id="notification-card-content">
                </div>
        </section>

        <section class="section" id="teams">
            <h1>Meet the Team üë•</h1>
            <div class="team-container" id="team-container">
                </div>
        </section>
        
        <section class="section" id="about">
            <h1>About This Tool ‚öôÔ∏è</h1>
            <p>This is a simple, static-file-based Project Management tool designed for small teams and personal use. It utilizes client-side storage to manage tasks without the need for a backend server or database, keeping deployment and maintenance lightweight.</p>
            <p>Use the <a href="tasks.html" style="color: #4CAF50; font-weight: bold;">Tasks</a> link to manage your checklists.</p>
        </section>
    </main>
    
    <footer>
        <p>¬© 2025 Project Manager. All rights reserved.</p>
    </footer>

    <script>
        // --- CONSTANTS ---
        const CSV_KEY = "tasks_data";

        // --- DATA MODEL (Team members moved here for cleanliness) ---
        const TEAM_MEMBERS = [
            { name: "Zamiel Baguinang", role: "Documentation", image: "images/Baguinang.jpg" },
            { name: "Daniel Mabaquiao", role: "QA Tester", image: "images/Mabaquiao.jpg" },
            { name: "John Paul Orlanda", role: "Documentation", image: "images/Orlanda.jpg" },
            { name: "Roark Ravago", role: "Lead Developer", image: "images/Ravago.jpg" },
            { name: "Ashby Gwen Ruelo", role: "Project Lead", image: "images/Ruelo.jpeg" },
        ];

        // --- HELPER FUNCTION: DATE FORMATTING ---
        function formatDate(dateString) {
            const options = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
            const date = new Date(dateString.replace(/-/g, '/')); // Fixes potential date parsing issues in some browsers
            return date.toLocaleDateString('en-US', options);
        }

        // --- RENDER UPCOMING TASKS CARD (NEW LOGIC) ---
        function renderUpcomingTasksCard() {
            const container = document.getElementById('notification-card-content');
            const savedTasks = localStorage.getItem(CSV_KEY);
            let tasks = [];

            if (savedTasks) {
                try {
                    tasks = JSON.parse(savedTasks);
                } catch (e) {
                    console.error("Failed to parse tasks from localStorage.", e);
                    // If parsing fails, fall back to empty list.
                }
            }

            const now = new Date();
            // Filter: Only include pending tasks with a deadline today or in the future
            const upcoming = tasks.filter(task => {
                const deadlineDate = new Date(task.deadline.replace(/-/g, '/'));
                return task.status !== "Done" && deadlineDate >= now;
            });

            // Sort by closest deadline first
            upcoming.sort((a,b) => new Date(a.deadline.replace(/-/g, '/')) - new Date(b.deadline.replace(/-/g, '/')));

            if (upcoming.length > 0) {
                const nextTask = upcoming[0];
                const formattedDeadline = formatDate(nextTask.deadline);

                container.innerHTML = `
                    <div class="notification-card">
                        <span>üö® **NEXT DEADLINE DUE:**</span>
                        <span class="task-detail">
                            ${nextTask.name} - ${formattedDeadline}
                        </span>
                        <a href="tasks.html" style="color: white; text-decoration: underline;">View All Tasks &rarr;</a>
                    </div>
                `;
            } else {
                container.innerHTML = `
                    <div class="notification-card" style="background: #3c3c3c; animation: none;">
                        <span>‚úÖ All tasks complete or deadlines passed.</span>
                        <span class="task-detail">Time to relax!</span>
                        <a href="tasks.html" style="color: white; text-decoration: underline;">Manage Tasks &rarr;</a>
                    </div>
                `;
            }
        }

        // --- RENDER TEAM CARDS ---
        function renderTeamCards() {
            const container = document.getElementById('team-container');
            container.innerHTML = ''; 

            TEAM_MEMBERS.forEach(member => {
                const card = document.createElement('div');
                card.className = 'team-card';
                card.innerHTML = `
                    <img src="${member.image}" alt="${member.name} Photo" loading="lazy" aria-label="${member.name}">
                    <h2>${member.name}</h2>
                    <p>${member.role}</p>
                `;
                container.appendChild(card);
            });
        }

        // --- NAVIGATION IMPROVEMENT (Smooth Scroll) ---
        function enableSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            renderUpcomingTasksCard(); // New call
            renderTeamCards();
            enableSmoothScroll();
        });
    </script>

</body>
</html>
